# 1. Общее описание

Данный проект предназначен для перевода конфигурационного языка в формат YAML. Программа удаляет комментарии, интерпретирует константы, массивы и другие элементы конфигурации, создавая корректный выходной YAML-файл. Проект состоит из двух основных файлов: **main.py** и **tests.py**.

- **main.py** — основной скрипт для обработки входных данных, их интерпретации и записи результата в файл YAML.
- **tests.py** — набор автоматических тестов для проверки функциональности программы.

# 2. Описание всех функций и настроек

## Файл main.py:

- **parse_args()**
  - Описание: Парсит аргументы командной строки для получения пути к выходному файлу YAML.
  - Аргументы:
    - `-o` (или `--output`): путь к выходному YAML-файлу.
  - Возвращает: объект с аргументами.

- **read_stdin()**
  - Описание: Считывает входные данные из стандартного ввода.
  - Возвращает: строку с входными данными.

- **remove_comments(input_data)**
  - Описание: Удаляет однострочные (`C`) и многострочные (`{{! ... }}`) комментарии из входного текста.
  - Аргументы:
    - `input_data`: строка с исходным текстом.
  - Возвращает: строку без комментариев.

- **parse_constants(input_data)**
  - Описание: Извлекает константы, объявленные через `is`, и сохраняет их в словарь.
  - Аргументы:
    - `input_data`: строка с входными данными.
  - Возвращает: словарь констант.

- **resolve_constants(input_data, constants)**
  - Описание: Заменяет ссылки на константы (в виде `?(name)`) их значениями.
  - Аргументы:
    - `input_data`: строка с входными данными.
    - `constants`: словарь констант.
  - Возвращает: строку с подставленными значениями.

- **parse_arrays(input_data)**
  - Описание: Извлекает массивы, определенные через `[...]`, и сохраняет их в словарь.
  - Аргументы:
    - `input_data`: строка с входными данными.
  - Возвращает: словарь массивов.

- **parse_to_dict(input_data)**
  - Описание: Преобразует входной текст в словарь, содержащий константы, массивы и другие элементы.
  - Аргументы:
    - `input_data`: строка с входными данными.
  - Возвращает: словарь с данными.

- **main()**
  - Описание: Основная функция программы. Управляет процессом чтения данных, их обработки и записи в YAML-файл.
  - Возвращает: ничего.

## Файл tests.py:

- **TestYamlProcessor**
  - Класс, содержащий тесты для проверки функциональности программы:
    - **test_basic_translation()**: проверяет корректность преобразования базового ввода.
    - **test_comment_handling()**: проверяет удаление однострочных и многострочных комментариев.
    - **test_constant_evaluation()**: проверяет обработку констант.
    - **test_array_syntax()**: проверяет корректность обработки массивов.
    - **test_error_handling()**: проверяет обработку ошибок в некорректном вводе.

# 3. Описание команд для сборки проекта

## Для запуска основного скрипта main.py:

```bash
python main.py -o output.yaml < test.txt
```
# 4. Результаты прогона тестов
    Результаты прогона тестов
![Результаты прогона тестов (.png)](./img/newtests.png)
